<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Í≤åÏãúÍ∏Ä ÏàòÏ†ï</title>
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <!-- ÏÇ¨Ïù¥Îìú Î∞î -->
    <aside id="sidebar">
        <div class="top flex main-end">
            <a href="javascript:;" id="btn-close">
                <span class="material-symbols-outlined">close</span>
            </a>
        </div>
        <ul>
            <li><a href="../index">Home</a></li>
            <li><a href="../board/list">Board</a></li>
        </ul>
    </aside>

    <!-- Ìó§Îçî -->
    <header>
        <!-- Î°úÍ∑∏Ïù∏ | ÌöåÏõêÍ∞ÄÏûÖ -->
        <div class="util"></div>

        <!-- Î©îÏù∏ Î©îÎâ¥ -->
        <div class="menu">
            <nav>
                <ul class="pc">
                    <li><a href="../index">Home</a></li>
                    <li><a href="../board/list">Board</a></li>
                </ul>
                <ul class="mobile">
                    <li>
                        <a href="../index"><span class="material-symbols-outlined">home</span></a>
                    </li>
                    <li>
                        <a href="javascript:;" id="btn-menu"><span class="material-symbols-outlined">menu</span></a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Î©îÏù∏ -->
    <section class="main container">
        <div class="inner">
            <!-- Ï†úÎ™© ÏòÅÏó≠ -->
            <div class="main-title">
                <h1>Í≤åÏãúÍ∏Ä ÏàòÏ†ï</h1>
                <p>Ïª§ÎÆ§ÎãàÌã∞ Í≤åÏãúÍ∏Ä Ï†ïÎ≥¥Î•º ÏàòÏ†ïÌï©ÎãàÎã§.<p>
            </div>

            <!-- Í≤åÏãúÍ∏Ä ÏàòÏ†ï -->
            <form action="/board/update" method="POST" id="form">
                <input type="hidden" name="boardNo" th:value="${board.boardNo}">
                <table class="board">
                    <tr>
                        <td class="label">Ï†úÎ™©</td>
                        <td class="data">
                            <input type="text" name="title" id="title" class="input-text" th:value="${board.title}">
                        </td>
                    </tr>
                    <tr>
                        <td class="label">ÏûëÏÑ±Ïûê</td>
                        <td class="data">
                            <input type="text" name="writer" id="writer" class="input-text" th:value="${board.writer}">
                        </td>
                    </tr>
                    <tr>
                        <td class="label">ÎÇ¥Ïö©</td>
                        <td class="data">
                            <textarea name="content" id="content" cols="30" rows="10" 
                                    class="input-textarea" th:text="${board.content}"></textarea>
                        </td>
                    </tr>
                </table>

                <div class="btn-box">
                    <div class="item">
                        <a type="button" onclick="moveList()" class="btn btn-primary">Î™©Î°ù</a>
                    </div>
                    <div class="item">
                        <a type="button" onclick="actionUpdate()" class="btn btn-primary">ÏàòÏ†ï</a>
                        <a type="button" onclick="actionDelete()" class="btn btn-primary">ÏÇ≠Ï†ú</a>
                    </div>
                </div>
            </form>
        </div>
    </section>

    <!-- script -->
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>

    <!-- sweetalert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script src="../js/main.js"></script>

    <script>
        let form = document.getElementById('form')
        // üë©‚Äçüíª Î™®Îç∏ Í∞ùÏ≤¥Î•º ÏûêÎ∞îÏä§ÌÅ¨Î¶ΩÌä∏ÏóêÏÑú ÌëúÌòÑÌïòÎäî Î∞©Î≤ï
        let boardNo = "[[${board.boardNo}]]"
        
        // Î™©Î°ùÏúºÎ°ú Ïù¥Îèô
        function moveList() {
            location.href = "/board/list"
        }

        // ÏàòÏ†ï ÏöîÏ≤≠
        function actionUpdate() {
            form.submit()
        }

        // ÏÇ≠Ï†ú ÏöîÏ≤≠
        function actionDelete() {
            let check =
                Swal.fire({
                    title: 'Ï†ïÎßêÎ°ú ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?',
                    text: "ÏÇ≠Ï†úÌïòÎ©¥ ÎêòÎèåÎ¶¥ Ïàò ÏóÜÏäµÎãàÎã§!",
                    icon: 'warning',
                    showCancelButton: true,
                    confirmButtonColor: '#3085d6',
                    cancelButtonColor: '#d33',
                    confirmButtonText: 'Ïòà',
                    cancelButtonText: 'ÏïÑÎãàÏò§',
                }).then((result) => {
                    if (result.isConfirmed) {
                        form.action = '/board/delete'
                        form.submit()
                    }
                })                
        }
    </script>

</body>
</html>